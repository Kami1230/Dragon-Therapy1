<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>üê≤Dragon Recovery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./app.css" />
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
  </head>
  <body class="dark-theme">
    <header class="topbar">
        <div class="brand">üê≤Dragon Therapy</div>
        <nav class="nav">
            <a href="#/dashboard">Dashboard</a>
            <a href="#/calendar">Calendar</a>
            <a href="#/results">Results</a>
            <a href="#/ai-insights">AI-Insights</a>
        </nav>
        <div class="theme-container">
            <button id="theme-toggle" aria-label="Toggle dark/light theme">
                <img id="theme-icon" src="./img/mode.png" alt="Dark theme">
            </button>
        </div>
    </header>

    <main id="app"></main>

    <!-- Floating Chatbot UI -->
    <div id="floating-chatbot-container">
        <button id="chat-toggle-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle">
                <path d="M7.9 20A9.33 9.33 0 0 1 21 12.1a9.08 9.08 0 0 0-4-3.5" />
                <path d="M17.4 12c.5-1.5.9-3.2.7-4.9c-.2-.4-.5-.8-1-.9a10.9 10.9 0 0 0-3.1-2.2c-1.3-.7-2.9-1.2-4.6-1.5-.7-.1-1.4 0-2 .2a9.7 9.7 0 0 0-3.3 1.9c-1.1.9-2 2.1-2.5 3.5a10 10 0 0 0-.2 4.4c.5 1.7 1.4 3.3 2.6 4.6l-1 1a.5.5 0 0 0-.1.6c.1.2.2.4.5.5l1.6.4c.5.2 1 .4 1.6.7c.6.2 1.3.4 2 .4c.6 0 1.2-.1 1.8-.3" />
                <path d="M22 22 7 7" />
            </svg>
        </button>
        <div id="chat-window">
            <div class="chat-header">AI Chatbot</div>
            <div id="chatbox">
                <div class="message system-message">
                    Hello! I'm here to answer questions about the patient's progress. You can ask me things like, "What does the range of motion data mean?"
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" id="chat-input" placeholder="Ask a question..." />
                <button id="chat-send-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send">
                        <path d="m22 2-7 19-3-7L2 22l19-7Z" />
                        <path d="M11 11l-3 3" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="./Game/game.js"></script>
    <script type="module" src="./app.js"></script>
    <script src="theme-toggle.js"></script>
  </body>
</html>